{"ast":null,"code":"var _jsxFileName = \"E:\\\\2025\\\\Padma\\\\Zendesk\\\\projects\\\\with_React\\\\Nice-Zendesk-Integration-main\\\\src\\\\zendesk.js\",\n  _s = $RefreshSig$();\nimport useScript from './useScript';\nimport { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet client;\nexport function Zendesk(props) {\n  _s();\n  const history = useHistory();\n  // Create the function\n  const intName = 'Zendesk';\n  const loaded = useScript({\n    scriptSrc: `https://static.zdassets.com/zendesk_app_framework_sdk/2.0/zaf_sdk.min.js`,\n    attributes: [{\n      name: 'data-crmurl',\n      value: `${props.openFrameBaseUrl}`\n    }, {\n      name: 'data-ofid',\n      value: `test`\n    }]\n  });\n  function testClickHandler() {\n    console.log('test clicked to call SNC');\n    history.push('/temp');\n  }\n  useEffect(() => {\n    if (loaded === 'ready') {\n      var settings = {\n        url: 'https://www.example.com/api/user',\n        headers: {\n          \"Authorization\": \"Bearer {{setting.access_token}}\"\n        },\n        secure: true,\n        type: 'GET'\n      };\n      client = window.ZAFClient.init();\n      // client && client.invoke('routeTo', 'ticket', 780)\n      client.invoke(settings).then(function (data) {\n        console.log(data);\n      }, function (response) {\n        console.error(response);\n      });\n    }\n    return () => {\n      console.log(`${intName} Integrataion component Unmounted. Cleanup...`);\n    };\n  }, [loaded]);\n  console.log('component==> zendesk.js');\n\n  // client.invoke(settings).then(function (data) {\n  //   console.log(data);\n  // },\n  // function (response) {\n  //   console.error(response);\n  // });\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: testClickHandler,\n    children: \"Click Me\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(Zendesk, \"LDLR+1AvfcfOLEuMsVOA7jbkYmU=\", false, function () {\n  return [useHistory, useScript];\n});\n_c = Zendesk;\nexport default Zendesk;\nvar _c;\n$RefreshReg$(_c, \"Zendesk\");","map":{"version":3,"names":["useScript","useEffect","useHistory","jsxDEV","_jsxDEV","client","Zendesk","props","_s","history","intName","loaded","scriptSrc","attributes","name","value","openFrameBaseUrl","testClickHandler","console","log","push","settings","url","headers","secure","type","window","ZAFClient","init","invoke","then","data","response","error","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/2025/Padma/Zendesk/projects/with_React/Nice-Zendesk-Integration-main/src/zendesk.js"],"sourcesContent":["import useScript from './useScript';\r\nimport { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nlet client;\r\n\r\nexport function Zendesk(props) {\r\n  const history = useHistory();\r\n  // Create the function\r\n  const intName = 'Zendesk';\r\n\r\n  const loaded = useScript({\r\n    scriptSrc: `https://static.zdassets.com/zendesk_app_framework_sdk/2.0/zaf_sdk.min.js`,\r\n    attributes: [\r\n      {\r\n        name: 'data-crmurl',\r\n        value: `${props.openFrameBaseUrl}`,\r\n      },\r\n      {\r\n        name: 'data-ofid',\r\n        value: `test`,\r\n      },\r\n    ],\r\n  });\r\n\r\n  function testClickHandler() {\r\n    console.log('test clicked to call SNC');\r\n    history.push('/temp');\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (loaded === 'ready') {\r\n      var settings = {\r\n        url: 'https://www.example.com/api/user',\r\n        headers: {\"Authorization\": \"Bearer {{setting.access_token}}\"},\r\n        secure: true,\r\n        type: 'GET'\r\n      };\r\n      client = window.ZAFClient.init();\r\n      // client && client.invoke('routeTo', 'ticket', 780)\r\n      client.invoke(settings).then(function (data) {\r\n        console.log(data);\r\n      },\r\n      function (response) {\r\n        console.error(response);\r\n      });\r\n    }\r\n    return () => {\r\n      console.log(`${intName} Integrataion component Unmounted. Cleanup...`);\r\n    };\r\n  }, [loaded]);\r\n\r\n  console.log('component==> zendesk.js');\r\n\r\n\r\n  \r\n\r\n \r\n\r\n  \r\n  // client.invoke(settings).then(function (data) {\r\n  //   console.log(data);\r\n  // },\r\n  // function (response) {\r\n  //   console.error(response);\r\n  // });\r\n\r\n  return (\r\n    <button onClick={testClickHandler}>Click Me</button>\r\n  );\r\n}\r\n\r\nexport default Zendesk;"],"mappings":";;AAAA,OAAOA,SAAS,MAAM,aAAa;AACnC,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,UAAU,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,IAAIC,MAAM;AAEV,OAAO,SAASC,OAAOA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC7B,MAAMC,OAAO,GAAGP,UAAU,EAAE;EAC5B;EACA,MAAMQ,OAAO,GAAG,SAAS;EAEzB,MAAMC,MAAM,GAAGX,SAAS,CAAC;IACvBY,SAAS,EAAG,0EAAyE;IACrFC,UAAU,EAAE,CACV;MACEC,IAAI,EAAE,aAAa;MACnBC,KAAK,EAAG,GAAER,KAAK,CAACS,gBAAiB;IACnC,CAAC,EACD;MACEF,IAAI,EAAE,WAAW;MACjBC,KAAK,EAAG;IACV,CAAC;EAEL,CAAC,CAAC;EAEF,SAASE,gBAAgBA,CAAA,EAAG;IAC1BC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACvCV,OAAO,CAACW,IAAI,CAAC,OAAO,CAAC;EACvB;EAEAnB,SAAS,CAAC,MAAM;IACd,IAAIU,MAAM,KAAK,OAAO,EAAE;MACtB,IAAIU,QAAQ,GAAG;QACbC,GAAG,EAAE,kCAAkC;QACvCC,OAAO,EAAE;UAAC,eAAe,EAAE;QAAiC,CAAC;QAC7DC,MAAM,EAAE,IAAI;QACZC,IAAI,EAAE;MACR,CAAC;MACDpB,MAAM,GAAGqB,MAAM,CAACC,SAAS,CAACC,IAAI,EAAE;MAChC;MACAvB,MAAM,CAACwB,MAAM,CAACR,QAAQ,CAAC,CAACS,IAAI,CAAC,UAAUC,IAAI,EAAE;QAC3Cb,OAAO,CAACC,GAAG,CAACY,IAAI,CAAC;MACnB,CAAC,EACD,UAAUC,QAAQ,EAAE;QAClBd,OAAO,CAACe,KAAK,CAACD,QAAQ,CAAC;MACzB,CAAC,CAAC;IACJ;IACA,OAAO,MAAM;MACXd,OAAO,CAACC,GAAG,CAAE,GAAET,OAAQ,+CAA8C,CAAC;IACxE,CAAC;EACH,CAAC,EAAE,CAACC,MAAM,CAAC,CAAC;EAEZO,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;;EAQtC;EACA;EACA;EACA;EACA;EACA;;EAEA,oBACEf,OAAA;IAAQ8B,OAAO,EAAEjB,gBAAiB;IAAAkB,QAAA,EAAC;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAS;AAExD;AAAC/B,EAAA,CAhEeF,OAAO;EAAA,QACLJ,UAAU,EAIXF,SAAS;AAAA;AAAAwC,EAAA,GALVlC,OAAO;AAkEvB,eAAeA,OAAO;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}