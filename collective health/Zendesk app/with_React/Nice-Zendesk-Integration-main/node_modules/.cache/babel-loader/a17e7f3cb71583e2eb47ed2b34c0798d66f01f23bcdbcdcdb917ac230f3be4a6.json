{"ast":null,"code":"var _jsxFileName = \"E:\\\\2025\\\\Padma\\\\Zendesk\\\\projects\\\\with_React\\\\Nice-Zendesk-Integration-main\\\\src\\\\zendesk.js\",\n  _s = $RefreshSig$();\nimport useScript from './useScript';\nimport { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet client;\nexport function Zendesk(props) {\n  _s();\n  const history = useHistory();\n  // Create the function\n  const intName = 'Zendesk';\n  const loaded = useScript({\n    scriptSrc: `https://static.zdassets.com/zendesk_app_framework_sdk/2.0/zaf_sdk.min.js`,\n    attributes: [{\n      name: 'data-crmurl',\n      value: `${props.openFrameBaseUrl}`\n    }, {\n      name: 'data-ofid',\n      value: `test`\n    }]\n  });\n  function testClickHandler() {\n    console.log('test clicked to call SNC');\n    history.push('/temp');\n  }\n  useEffect(() => {\n    if (loaded === 'ready') {\n      client = window.ZAFClient.init();\n      client && client.invoke('routeTo', 'ticket', 780);\n    }\n    return () => {\n      console.log(`${intName} Integrataion component Unmounted. Cleanup...`);\n    };\n  }, [loaded]);\n  console.log('component==> zendesk.js');\n  var settings = {\n    url: 'https://www.example.com/api/user',\n    headers: {\n      \"Authorization\": \"Bearer {{setting.access_token}}\"\n    },\n    secure: true,\n    type: 'GET'\n  };\n  client.invoke('comment.appendText', 'My printer is on fire');\n\n  // client.invoke(settings).then(function (data) {\n  //   console.log(data);\n  // },\n  // function (response) {\n  //   console.error(response);\n  // });\n\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: testClickHandler,\n    children: \"Click Me\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(Zendesk, \"LDLR+1AvfcfOLEuMsVOA7jbkYmU=\", false, function () {\n  return [useHistory, useScript];\n});\n_c = Zendesk;\nexport default Zendesk;\nvar _c;\n$RefreshReg$(_c, \"Zendesk\");","map":{"version":3,"names":["useScript","useEffect","useHistory","jsxDEV","_jsxDEV","client","Zendesk","props","_s","history","intName","loaded","scriptSrc","attributes","name","value","openFrameBaseUrl","testClickHandler","console","log","push","window","ZAFClient","init","invoke","settings","url","headers","secure","type","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/2025/Padma/Zendesk/projects/with_React/Nice-Zendesk-Integration-main/src/zendesk.js"],"sourcesContent":["import useScript from './useScript';\r\nimport { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nlet client;\r\n\r\nexport function Zendesk(props) {\r\n  const history = useHistory();\r\n  // Create the function\r\n  const intName = 'Zendesk';\r\n\r\n  const loaded = useScript({\r\n    scriptSrc: `https://static.zdassets.com/zendesk_app_framework_sdk/2.0/zaf_sdk.min.js`,\r\n    attributes: [\r\n      {\r\n        name: 'data-crmurl',\r\n        value: `${props.openFrameBaseUrl}`,\r\n      },\r\n      {\r\n        name: 'data-ofid',\r\n        value: `test`,\r\n      },\r\n    ],\r\n  });\r\n\r\n  function testClickHandler() {\r\n    console.log('test clicked to call SNC');\r\n    history.push('/temp');\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (loaded === 'ready') {\r\n      client = window.ZAFClient.init();\r\n      client && client.invoke('routeTo', 'ticket', 780)\r\n    }\r\n    return () => {\r\n      console.log(`${intName} Integrataion component Unmounted. Cleanup...`);\r\n    };\r\n  }, [loaded]);\r\n\r\n  console.log('component==> zendesk.js');\r\n\r\n\r\n  var settings = {\r\n    url: 'https://www.example.com/api/user',\r\n    headers: {\"Authorization\": \"Bearer {{setting.access_token}}\"},\r\n    secure: true,\r\n    type: 'GET'\r\n  };\r\n\r\n  client.invoke('comment.appendText', 'My printer is on fire');\r\n  \r\n  // client.invoke(settings).then(function (data) {\r\n  //   console.log(data);\r\n  // },\r\n  // function (response) {\r\n  //   console.error(response);\r\n  // });\r\n\r\n  return (\r\n    <button onClick={testClickHandler}>Click Me</button>\r\n  );\r\n}\r\n\r\nexport default Zendesk;"],"mappings":";;AAAA,OAAOA,SAAS,MAAM,aAAa;AACnC,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,UAAU,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,IAAIC,MAAM;AAEV,OAAO,SAASC,OAAOA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC7B,MAAMC,OAAO,GAAGP,UAAU,EAAE;EAC5B;EACA,MAAMQ,OAAO,GAAG,SAAS;EAEzB,MAAMC,MAAM,GAAGX,SAAS,CAAC;IACvBY,SAAS,EAAG,0EAAyE;IACrFC,UAAU,EAAE,CACV;MACEC,IAAI,EAAE,aAAa;MACnBC,KAAK,EAAG,GAAER,KAAK,CAACS,gBAAiB;IACnC,CAAC,EACD;MACEF,IAAI,EAAE,WAAW;MACjBC,KAAK,EAAG;IACV,CAAC;EAEL,CAAC,CAAC;EAEF,SAASE,gBAAgBA,CAAA,EAAG;IAC1BC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;IACvCV,OAAO,CAACW,IAAI,CAAC,OAAO,CAAC;EACvB;EAEAnB,SAAS,CAAC,MAAM;IACd,IAAIU,MAAM,KAAK,OAAO,EAAE;MACtBN,MAAM,GAAGgB,MAAM,CAACC,SAAS,CAACC,IAAI,EAAE;MAChClB,MAAM,IAAIA,MAAM,CAACmB,MAAM,CAAC,SAAS,EAAE,QAAQ,EAAE,GAAG,CAAC;IACnD;IACA,OAAO,MAAM;MACXN,OAAO,CAACC,GAAG,CAAE,GAAET,OAAQ,+CAA8C,CAAC;IACxE,CAAC;EACH,CAAC,EAAE,CAACC,MAAM,CAAC,CAAC;EAEZO,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;EAGtC,IAAIM,QAAQ,GAAG;IACbC,GAAG,EAAE,kCAAkC;IACvCC,OAAO,EAAE;MAAC,eAAe,EAAE;IAAiC,CAAC;IAC7DC,MAAM,EAAE,IAAI;IACZC,IAAI,EAAE;EACR,CAAC;EAEDxB,MAAM,CAACmB,MAAM,CAAC,oBAAoB,EAAE,uBAAuB,CAAC;;EAE5D;EACA;EACA;EACA;EACA;EACA;;EAEA,oBACEpB,OAAA;IAAQ0B,OAAO,EAAEb,gBAAiB;IAAAc,QAAA,EAAC;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAS;AAExD;AAAC3B,EAAA,CAxDeF,OAAO;EAAA,QACLJ,UAAU,EAIXF,SAAS;AAAA;AAAAoC,EAAA,GALV9B,OAAO;AA0DvB,eAAeA,OAAO;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}